<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>{% block title %}Steam å¥½å‹å·¥å…·{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

    {% block extra_head %}{% endblock %}
</head>
<body>
    <!-- ğŸ”— åŠŸèƒ½å°èˆªå€ -->
    <div style="margin-bottom: 1em;">
        <strong>åŠŸèƒ½é¸å–®ï¼š</strong>
        <a href="/">å¥½å‹æ¸…å–®</a> |
        <a href="/history">è®Šæ›´ç´€éŒ„</a> |
        <a href="/country">åœ‹åˆ¥åˆ†æ</a> |
        <a href="/country-chart">åœ‹åˆ¥çµ±è¨ˆåœ–</a> |
        <a href="/trend">å¥½å‹è¶¨å‹¢åœ–</a> |
        <a href="/status-board">å¥½å‹ç‹€æ…‹çœ‹æ¿</a> |
        <a href="/achievement">æˆå°±æŸ¥è©¢</a> |		
        <a href="/filter">æ¢ä»¶ç¯©é¸</a> |
		<a href="/backups">å‚™ä»½ç®¡ç†</a> |
        <a href="/update">æ›´æ–°è³‡æ–™ (èƒŒæ™¯è‡ªå‹•å®šæœŸæ›´æ–°ã€éå¿…è¦)</a> |
    </div>

    {% block content %}{% endblock %}

	{% block extra_script %}
	<script>
	function formatLocalTime(ts) {
		const date = new Date(ts * 1000);
		return date.toLocaleString('zh-TW', {
			year: 'numeric',
			month: 'numeric',
			day: 'numeric',
			hour: '2-digit',
			minute: '2-digit',
			second: '2-digit',
			hourCycle: 'h23'
		});
	}
	function formatAgo(ts) {
		const now = new Date();
		const then = new Date(ts * 1000);
		const diff = Math.floor((now - then) / 1000);
		if (diff < 60) return `${diff} ç§’å‰`;
		if (diff < 3600) return `${Math.floor(diff / 60)} åˆ†é˜å‰`;
		if (diff < 86400) return `${Math.floor(diff / 3600)} å°æ™‚å‰`;
		return `${Math.floor(diff / 86400)} å¤©å‰`;
	}
	function updateAllTimestamps() {
		document.querySelectorAll('.datetime-auto').forEach(el => {
			const ts = parseInt(el.dataset.timestamp, 10);
			if (!isNaN(ts)) {
				el.innerText = formatLocalTime(ts) + 'ï¼ˆ' + formatAgo(ts) + 'ï¼‰';
			}
		});
	}
	document.addEventListener('DOMContentLoaded', updateAllTimestamps);
	</script>
	{% endblock %}
</body>
</html>
